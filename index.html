<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Highgate Estate Agents | Independent Property Experts in North London</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --teal: #1B3A4B;
  --teal-light: #234d63;
  --gold: #C9A84C;
  --gold-hover: #b8953f;
  --dark: #111827;
  --text: #374151;
  --muted: #6B7280;
  --border: #E5E7EB;
  --bg: #F9FAFB;
  --white: #fff;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: "Inter", -apple-system, sans-serif;
  color: var(--text); line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}
a { text-decoration: none; color: inherit; }
img { max-width: 100%; display: block; }

/* ── NAV ── */
.nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 100;
  background: rgba(27,58,75,.97);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.nav-inner {
  max-width: 1200px; margin: 0 auto;
  padding: 0 32px; height: 72px;
  display: flex; align-items: center; justify-content: space-between;
}
.nav-logo {
  font-family: "Playfair Display", serif;
  color: #fff; font-size: 18px; font-weight: 600;
  letter-spacing: 1px;
}
.nav-logo span { color: var(--gold); font-size: 10px; letter-spacing: 2px; display: block; font-family: "Inter", sans-serif; font-weight: 500; text-transform: uppercase; margin-top: 1px; }
.nav-links { display: flex; gap: 28px; align-items: center; }
.nav-links a { color: rgba(255,255,255,.7); font-size: 13px; font-weight: 400; transition: color .2s; }
.nav-links a:hover { color: #fff; }
.nav-phone { color: rgba(255,255,255,.9); font-size: 13px; font-weight: 500; margin-left: 20px; }
.nav-cta {
  background: var(--gold); color: #fff;
  padding: 9px 22px; border-radius: 50px;
  font-size: 13px; font-weight: 600;
  transition: background .2s; margin-left: 12px; cursor: pointer;
}
.nav-cta:hover { background: var(--gold-hover); }

/* ── HERO ── */
.hero {
  background: linear-gradient(170deg, rgba(27,58,75,.88) 0%, rgba(13,31,43,.92) 100%),
    url('https://highgateestateagents.co.uk/wp-content/uploads/2025/07/estate-agents-in-highgate-london-n6.webp') center/cover no-repeat;
  padding: 160px 32px 120px;
  text-align: center; color: #fff;
  position: relative; overflow: hidden;
}
.hero::before {
  content: ""; position: absolute;
  top: -200px; right: -150px;
  width: 600px; height: 600px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(201,168,76,.08), transparent 70%);
}
.hero::after {
  content: ""; position: absolute;
  bottom: -100px; left: -100px;
  width: 400px; height: 400px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(201,168,76,.05), transparent 70%);
}
.hero-content { position: relative; z-index: 1; max-width: 720px; margin: 0 auto; }
.hero h1 {
  font-family: "Playfair Display", serif;
  font-size: 52px; font-weight: 700;
  line-height: 1.15; margin-bottom: 18px;
}
.hero h1 span { color: var(--gold); }
.hero p {
  font-size: 18px; font-weight: 300;
  color: rgba(255,255,255,.65);
  max-width: 540px; margin: 0 auto 36px;
}
.hero-btns { display: flex; gap: 14px; justify-content: center; flex-wrap: wrap; }
.btn-primary {
  background: var(--gold); color: #fff;
  padding: 14px 32px; border-radius: 50px;
  font-size: 15px; font-weight: 600;
  border: none; cursor: pointer;
  transition: background .2s, transform .2s;
}
.btn-primary:hover { background: var(--gold-hover); transform: translateY(-1px); }
.btn-secondary {
  border: 1.5px solid rgba(255,255,255,.4); color: #fff;
  padding: 13px 30px; border-radius: 50px;
  font-size: 15px; font-weight: 500;
  background: transparent; cursor: pointer;
  transition: border-color .2s, background .2s;
}
.btn-secondary:hover { border-color: #fff; background: rgba(255,255,255,.05); }

/* ── SEARCH ── */
.search-section { padding: 0 32px; margin-top: -36px; position: relative; z-index: 10; }
.search-bar {
  max-width: 960px; margin: 0 auto;
  background: var(--white);
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.12);
  padding: 24px 28px;
  display: flex; flex-wrap: wrap; gap: 12px; align-items: end;
}
.search-toggle { display: flex; margin-right: 8px; }
.search-toggle span {
  padding: 9px 18px; font-size: 13px; font-weight: 600;
  cursor: pointer; transition: all .2s;
}
.search-toggle .active {
  background: var(--teal); color: #fff;
  border-radius: 8px 0 0 8px;
}
.search-toggle .inactive {
  background: var(--bg); color: var(--muted);
  border-radius: 0 8px 8px 0;
}
.search-field { flex: 1; min-width: 120px; }
.search-field label {
  display: block; font-size: 10px; font-weight: 600;
  color: var(--muted); text-transform: uppercase;
  letter-spacing: .5px; margin-bottom: 4px;
}
.search-field select, .search-field input {
  width: 100%; padding: 10px 14px;
  border: 1px solid var(--border); border-radius: 8px;
  font-size: 13px; color: var(--text);
  font-family: inherit; background: var(--white);
  outline: none; transition: border-color .2s;
}
.search-field select:focus, .search-field input:focus { border-color: var(--gold); }
.search-submit {
  background: var(--gold); color: #fff;
  border: none; padding: 12px 28px;
  border-radius: 8px; font-size: 14px;
  font-weight: 600; cursor: pointer;
  font-family: inherit; transition: background .2s;
}
.search-submit:hover { background: var(--gold-hover); }

/* ── SECTIONS ── */
.container { max-width: 1200px; margin: 0 auto; padding: 0 32px; }
.section { padding: 80px 0; }
.section-header { text-align: center; margin-bottom: 48px; }
.section-label {
  font-size: 11px; font-weight: 600;
  color: var(--gold); text-transform: uppercase;
  letter-spacing: 2px; margin-bottom: 10px;
}
.section-header h2 {
  font-family: "Playfair Display", serif;
  font-size: 34px; font-weight: 700;
  color: var(--dark); line-height: 1.25;
  margin-bottom: 12px;
}
.section-header p {
  font-size: 15px; color: var(--muted);
  max-width: 540px; margin: 0 auto;
}

/* ── PROPERTY CARDS ── */
.property-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
}
.property-card {
  background: var(--white);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0,0,0,.06);
  border: 1px solid var(--border);
  transition: box-shadow .3s, transform .3s;
  cursor: pointer;
}
.property-card:hover {
  box-shadow: 0 12px 40px rgba(0,0,0,.1);
  transform: translateY(-4px);
}
.property-img {
  height: 200px; position: relative;
  background-size: cover; background-position: center;
}
.property-badge {
  position: absolute; top: 12px; left: 12px;
  padding: 4px 12px; border-radius: 6px;
  font-size: 10px; font-weight: 700;
  color: #fff; text-transform: uppercase;
  letter-spacing: .5px;
}
.badge-sale { background: #059669; }
.badge-offer { background: #D97706; }
.badge-sold { background: #DC2626; }
.property-info { padding: 20px; }
.property-price {
  font-size: 22px; font-weight: 700;
  color: var(--teal); margin-bottom: 4px;
}
.property-address { font-size: 14px; color: var(--text); margin-bottom: 2px; }
.property-type { font-size: 12px; color: var(--muted); margin-bottom: 14px; }
.property-specs {
  display: flex; gap: 16px;
  font-size: 12px; color: var(--muted);
  padding-top: 14px;
  border-top: 1px solid var(--border);
}
.property-specs span { display: flex; align-items: center; gap: 4px; }
.view-all {
  text-align: center; margin-top: 36px;
}
.view-all a {
  display: inline-block;
  border: 1.5px solid var(--teal); color: var(--teal);
  padding: 12px 32px; border-radius: 50px;
  font-size: 14px; font-weight: 600;
  transition: all .2s;
}
.view-all a:hover { background: var(--teal); color: #fff; }
.property-card.hidden { display: none; }
.no-results {
  display: none; grid-column: 1 / -1;
  text-align: center; padding: 48px 20px;
  color: var(--muted); font-size: 15px;
}
.no-results.show { display: block; }
.no-results h3 {
  font-size: 18px; color: var(--dark);
  margin-bottom: 8px; font-weight: 600;
}
.filter-active-bar {
  display: none; max-width: 960px; margin: 12px auto 0;
  padding: 10px 16px;
  background: #FFFBEB; border: 1px solid #FDE68A;
  border-radius: 8px; font-size: 13px;
  color: #92400E;
  align-items: center; justify-content: space-between;
}
.filter-active-bar.show { display: flex; }
.filter-clear {
  background: none; border: none;
  color: #B45309; font-weight: 600;
  cursor: pointer; font-size: 13px;
  font-family: inherit; text-decoration: underline;
}

/* ── TRUST ── */
.trust-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 24px;
}
.trust-card {
  text-align: center; padding: 32px 20px;
  border-radius: 12px;
  background: var(--white);
  border: 1px solid var(--border);
  transition: box-shadow .3s;
}
.trust-card:hover { box-shadow: 0 8px 24px rgba(0,0,0,.06); }
.trust-icon {
  width: 52px; height: 52px;
  border-radius: 12px; margin: 0 auto 16px;
  display: flex; align-items: center; justify-content: center;
  font-size: 24px;
}
.ti-1 { background: #E0F2F1; }
.ti-2 { background: #FFF8E1; }
.ti-3 { background: #E8F5E9; }
.ti-4 { background: #FEF2F2; }
.trust-card h3 { font-size: 15px; font-weight: 600; color: var(--dark); margin-bottom: 6px; }
.trust-card p { font-size: 13px; color: var(--muted); }

/* ── CTA BANNER ── */
.cta-banner {
  background: var(--teal); padding: 64px 32px;
  text-align: center; color: #fff;
}
.cta-banner h2 {
  font-family: "Playfair Display", serif;
  font-size: 32px; font-weight: 700;
  margin-bottom: 10px;
}
.cta-banner p {
  font-size: 15px; color: rgba(255,255,255,.6);
  margin-bottom: 28px; max-width: 480px;
  margin-left: auto; margin-right: auto;
}

/* ── TESTIMONIALS ── */
.bg-light { background: var(--bg); }
.testimonial-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
}
.testimonial-card {
  background: var(--white);
  border-radius: 12px; padding: 28px;
  border: 1px solid var(--border);
}
.testimonial-stars { color: #F59E0B; font-size: 14px; margin-bottom: 14px; letter-spacing: 2px; }
.testimonial-text { font-size: 14px; color: var(--text); line-height: 1.7; margin-bottom: 18px; font-style: italic; }
.testimonial-author { display: flex; align-items: center; gap: 10px; }
.testimonial-avatar {
  width: 36px; height: 36px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 14px; font-weight: 600; color: #fff;
}
.testimonial-name { font-size: 13px; font-weight: 600; color: var(--dark); }
.testimonial-role { font-size: 11px; color: var(--muted); }

/* ── AREA GUIDE ── */
.area-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}
.area-card {
  position: relative; border-radius: 12px;
  overflow: hidden; height: 180px;
  cursor: pointer;
}
.area-card-bg {
  position: absolute; inset: 0;
  transition: transform .4s;
}
.area-card:hover .area-card-bg { transform: scale(1.05); }
.area-card::after {
  content: ""; position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,.6), transparent);
}
.area-card-content {
  position: absolute; bottom: 0; left: 0; right: 0;
  padding: 20px; z-index: 1; color: #fff;
}
.area-card-content h3 { font-size: 18px; font-weight: 600; margin-bottom: 2px; }
.area-card-content p { font-size: 12px; color: rgba(255,255,255,.7); }

/* ── FOOTER ── */
.footer {
  background: var(--teal); color: rgba(255,255,255,.5);
  padding: 64px 0 32px;
}
.footer-grid {
  display: grid;
  grid-template-columns: 1.5fr 1fr 1fr 1fr;
  gap: 40px; margin-bottom: 40px;
}
.footer-brand h3 {
  font-family: "Playfair Display", serif;
  color: #fff; font-size: 18px; margin-bottom: 4px;
}
.footer-brand span {
  color: var(--gold); font-size: 10px;
  letter-spacing: 2px; text-transform: uppercase;
  display: block; margin-bottom: 16px;
}
.footer-brand p { font-size: 13px; line-height: 1.7; }
.footer h4 {
  color: #fff; font-size: 13px; font-weight: 600;
  margin-bottom: 16px; text-transform: uppercase;
  letter-spacing: 1px;
}
.footer ul { list-style: none; }
.footer ul li { margin-bottom: 8px; }
.footer ul a {
  color: rgba(255,255,255,.5); font-size: 13px;
  transition: color .2s;
}
.footer ul a:hover { color: var(--gold); }
.footer-bottom {
  border-top: 1px solid rgba(255,255,255,.08);
  padding-top: 24px; text-align: center;
  font-size: 12px;
}

/* ── CHATBOT ── */
.chatbot-btn {
  position: fixed; bottom: 24px; right: 24px;
  width: 56px; height: 56px; border-radius: 50%;
  background: var(--gold); color: #fff;
  border: none; cursor: pointer;
  box-shadow: 0 4px 20px rgba(201,168,76,.4);
  font-size: 24px; z-index: 200;
  display: flex; align-items: center; justify-content: center;
  transition: transform .2s, box-shadow .2s;
}
.chatbot-btn:hover { transform: scale(1.08); box-shadow: 0 6px 28px rgba(201,168,76,.5); }

.chatbot-window {
  position: fixed; bottom: 92px; right: 24px;
  width: 360px; max-height: 480px;
  background: var(--white);
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.2);
  z-index: 200; overflow: hidden;
  display: none; flex-direction: column;
}
.chatbot-window.open { display: flex; }
.chatbot-header {
  background: var(--teal); color: #fff;
  padding: 18px 20px; display: flex;
  align-items: center; gap: 12px;
}
.chatbot-avatar {
  width: 36px; height: 36px; border-radius: 50%;
  background: var(--gold); display: flex;
  align-items: center; justify-content: center;
  font-size: 16px; font-weight: 700;
}
.chatbot-header-info h4 { font-size: 14px; font-weight: 600; }
.chatbot-header-info p { font-size: 11px; color: rgba(255,255,255,.6); }
.chatbot-close {
  margin-left: auto; background: none;
  border: none; color: rgba(255,255,255,.5);
  font-size: 20px; cursor: pointer;
}
.chatbot-messages {
  flex: 1; overflow-y: auto;
  padding: 20px; display: flex;
  flex-direction: column; gap: 12px;
}
.chat-msg {
  padding: 10px 14px;
  border-radius: 12px;
  font-size: 13px; line-height: 1.5;
  max-width: 85%; animation: fadeIn .3s ease;
}
@keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
.chat-bot {
  background: var(--bg); color: var(--text);
  border-radius: 12px 12px 12px 2px;
  align-self: flex-start;
}
.chat-user {
  background: var(--teal); color: #fff;
  border-radius: 12px 12px 2px 12px;
  align-self: flex-end;
}
.chat-options {
  display: flex; flex-wrap: wrap;
  gap: 6px; align-self: flex-start;
}
.chat-option {
  background: var(--white);
  border: 1px solid var(--border);
  padding: 7px 14px; border-radius: 20px;
  font-size: 12px; color: var(--teal);
  cursor: pointer; font-family: inherit;
  font-weight: 500; transition: all .2s;
}
.chat-option:hover {
  border-color: var(--gold);
  background: #FFFBF0;
}
.chatbot-input {
  display: flex; padding: 14px;
  border-top: 1px solid var(--border);
  gap: 8px;
}
.chatbot-input input {
  flex: 1; border: 1px solid var(--border);
  border-radius: 8px; padding: 10px 14px;
  font-size: 13px; font-family: inherit;
  outline: none;
}
.chatbot-input input:focus { border-color: var(--gold); }
.chatbot-input button {
  background: var(--gold); color: #fff;
  border: none; border-radius: 8px;
  padding: 10px 16px; cursor: pointer;
  font-size: 14px;
}

/* ── MOBILE STICKY ── */
.mobile-bar {
  display: none; position: fixed;
  bottom: 0; left: 0; right: 0;
  background: var(--teal); z-index: 150;
  padding: 8px 16px;
}
.mobile-bar-inner {
  display: flex; gap: 8px;
}
.mobile-bar a {
  flex: 1; text-align: center;
  padding: 10px; border-radius: 8px;
  color: #fff; font-size: 12px;
  font-weight: 600;
}
.mobile-bar .mb-gold { background: var(--gold); }

/* ── RESPONSIVE ── */
@media (max-width: 768px) {
  .nav-links, .nav-phone { display: none; }
  .hero h1 { font-size: 32px; }
  .hero { padding: 140px 20px 100px; }
  .property-grid, .testimonial-grid, .area-grid { grid-template-columns: 1fr; }
  .trust-grid { grid-template-columns: repeat(2, 1fr); }
  .footer-grid { grid-template-columns: 1fr 1fr; }
  .search-bar { flex-direction: column; }
  .search-toggle { align-self: flex-start; }
  .mobile-bar { display: block; }
  .chatbot-btn { bottom: 76px; }
  .chatbot-window { bottom: 144px; right: 16px; width: calc(100% - 32px); }
  .modal-body { flex-direction: column; }
  .modal-gallery { height: 280px; }
  .modal-details { padding: 24px; }
  .modal-content { width: 95%; max-height: 90vh; }
}

/* ── PROPERTY MODAL ── */
.modal-overlay {
  display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,.7); z-index: 200;
  align-items: center; justify-content: center;
  backdrop-filter: blur(4px);
}
.modal-overlay.show { display: flex; }
.modal-content {
  background: var(--white); border-radius: 16px;
  overflow: hidden; width: 90%; max-width: 900px;
  max-height: 85vh; overflow-y: auto;
  box-shadow: 0 25px 60px rgba(0,0,0,.3);
  animation: modalIn .3s ease;
}
@keyframes modalIn { from { opacity: 0; transform: scale(.95) translateY(20px); } to { opacity: 1; transform: scale(1) translateY(0); } }
.modal-close {
  position: absolute; top: 16px; right: 16px;
  width: 36px; height: 36px; border-radius: 50%;
  background: rgba(0,0,0,.5); color: #fff;
  border: none; font-size: 20px; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  z-index: 10; transition: background .2s;
}
.modal-close:hover { background: rgba(0,0,0,.7); }
.modal-body { display: flex; }
.modal-gallery {
  flex: 1; min-width: 0; position: relative;
  height: 420px; background: #111;
}
.gallery-images {
  width: 100%; height: 100%; position: absolute;
  top: 0; left: 0;
}
.gallery-images img {
  width: 100%; height: 100%; object-fit: cover;
  display: none; position: absolute; top: 0; left: 0;
}
.gallery-images img.active { display: block; }
.gallery-nav {
  position: absolute; top: 50%; transform: translateY(-50%);
  width: 40px; height: 40px; border-radius: 50%;
  background: rgba(255,255,255,.85); border: none;
  font-size: 18px; cursor: pointer; color: #333;
  display: flex; align-items: center; justify-content: center;
  transition: background .2s;
}
.gallery-nav:hover { background: #fff; }
.gallery-prev { left: 12px; }
.gallery-next { right: 12px; }
.gallery-dots {
  position: absolute; bottom: 12px; left: 50%;
  transform: translateX(-50%); display: flex; gap: 6px;
}
.gallery-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: rgba(255,255,255,.5); border: none;
  cursor: pointer; transition: background .2s;
}
.gallery-dot.active { background: #fff; }
.gallery-counter {
  position: absolute; top: 12px; left: 12px;
  background: rgba(0,0,0,.6); color: #fff;
  padding: 4px 12px; border-radius: 20px;
  font-size: 12px; font-weight: 500;
}
.modal-details {
  flex: 0 0 320px; padding: 32px;
  display: flex; flex-direction: column; gap: 20px;
}
.modal-badge {
  display: inline-block; padding: 4px 14px;
  border-radius: 6px; font-size: 11px;
  font-weight: 700; color: #fff;
  text-transform: uppercase; letter-spacing: .5px;
  align-self: flex-start;
}
.modal-price {
  font-size: 28px; font-weight: 700;
  color: var(--teal); line-height: 1;
}
.modal-address {
  font-size: 16px; color: var(--text); font-weight: 500;
}
.modal-type { font-size: 13px; color: var(--muted); }
.modal-specs {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.modal-spec {
  background: var(--bg); padding: 12px;
  border-radius: 8px; text-align: center;
}
.modal-spec-val {
  font-size: 18px; font-weight: 700;
  color: var(--teal);
}
.modal-spec-label {
  font-size: 11px; color: var(--muted);
  text-transform: uppercase; letter-spacing: .5px;
}
.modal-desc {
  font-size: 14px; color: var(--text);
  line-height: 1.7;
}
.modal-cta {
  display: flex; gap: 10px; margin-top: auto;
}
.modal-cta button {
  flex: 1; padding: 12px 16px; border-radius: 8px;
  font-size: 13px; font-weight: 600;
  cursor: pointer; font-family: inherit;
  transition: all .2s;
}
.modal-cta .cta-primary {
  background: var(--gold); color: #fff; border: none;
}
.modal-cta .cta-primary:hover { background: var(--gold-hover); }
.modal-cta .cta-secondary {
  background: transparent; color: var(--teal);
  border: 1.5px solid var(--teal);
}
.modal-cta .cta-secondary:hover { background: var(--teal); color: #fff; }

/* ── STAT COUNTERS ── */
.stats-bar {
  background: var(--white);
  border-bottom: 1px solid var(--border);
  padding: 40px 0;
}
.stats-grid {
  display: flex; justify-content: center; gap: 64px;
  max-width: 900px; margin: 0 auto; padding: 0 32px;
}
.stat-item { text-align: center; }
.stat-number {
  font-family: "Playfair Display", serif;
  font-size: 42px; font-weight: 700;
  color: var(--teal); line-height: 1;
  margin-bottom: 4px;
}
.stat-number span { color: var(--gold); }
.stat-label {
  font-size: 13px; color: var(--muted);
  font-weight: 500; letter-spacing: .3px;
}

/* ── SCROLL REVEAL ── */
.reveal {
  opacity: 0; transform: translateY(30px);
  transition: opacity .7s ease, transform .7s ease;
}
.reveal.visible {
  opacity: 1; transform: translateY(0);
}

/* ── PROPERTY CARD UPGRADES ── */
.property-img::after {
  content: ""; position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,.15), transparent 50%);
  opacity: 0; transition: opacity .3s;
}
.property-card:hover .property-img::after { opacity: 1; }
.property-img .property-img-inner {
  width: 100%; height: 100%;
  background-size: cover; background-position: center;
  transition: transform .5s ease;
}
.property-card:hover .property-img .property-img-inner {
  transform: scale(1.06);
}
.property-fav {
  position: absolute; top: 12px; right: 12px;
  width: 32px; height: 32px; border-radius: 50%;
  background: rgba(255,255,255,.85);
  border: none; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  z-index: 2; transition: all .2s;
  backdrop-filter: blur(4px);
}
.property-fav:hover { background: #fff; transform: scale(1.1); }
.property-fav.liked svg { fill: #DC2626; stroke: #DC2626; }

/* ── NAV SCROLL EFFECT ── */
.nav.scrolled {
  background: rgba(27,58,75,1);
  box-shadow: 0 2px 20px rgba(0,0,0,.15);
}
.nav.scrolled .nav-inner { height: 60px; }

/* ── BACK TO TOP ── */
.back-to-top {
  position: fixed; bottom: 24px; left: 24px;
  width: 44px; height: 44px; border-radius: 50%;
  background: var(--teal); color: #fff;
  border: none; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  z-index: 150; opacity: 0; transform: translateY(20px);
  transition: opacity .3s, transform .3s, background .2s;
  box-shadow: 0 2px 12px rgba(0,0,0,.15);
}
.back-to-top.show { opacity: 1; transform: translateY(0); }
.back-to-top:hover { background: var(--teal-light); }

/* ── CTA BANNER UPGRADE ── */
.cta-banner {
  background: linear-gradient(135deg, var(--teal) 0%, #0d1f2b 100%);
  position: relative; overflow: hidden;
}
.cta-banner::before {
  content: ""; position: absolute; inset: 0;
  background: repeating-linear-gradient(
    45deg, transparent, transparent 30px,
    rgba(255,255,255,.02) 30px, rgba(255,255,255,.02) 60px
  );
}
.cta-banner > * { position: relative; z-index: 1; }

/* ── TESTIMONIAL QUOTE MARKS ── */
.testimonial-card { position: relative; overflow: hidden; }
.testimonial-card::before {
  content: "\201C"; position: absolute;
  top: -8px; right: 16px;
  font-family: "Playfair Display", serif;
  font-size: 120px; color: var(--gold);
  opacity: .07; line-height: 1; pointer-events: none;
}

/* ── SECTION DIVIDER ── */
.section-divider {
  width: 60px; height: 3px;
  background: linear-gradient(90deg, var(--gold), transparent);
  margin: 0 auto 20px;
  border-radius: 2px;
}

/* ── GALLERY CROSSFADE ── */
.gallery-images img {
  transition: opacity .4s ease;
  opacity: 0;
}
.gallery-images img.active { opacity: 1; display: block; }

/* ── AREA CARD ARROW ── */
.area-card-content::after {
  content: "\2192"; margin-left: 8px;
  opacity: 0; transition: opacity .3s, transform .3s;
  display: inline-block; transform: translateX(-4px);
}
.area-card:hover .area-card-content::after {
  opacity: 1; transform: translateX(0);
}

/* ── TRUST CARD HOVER ACCENT ── */
.trust-card { position: relative; overflow: hidden; }
.trust-card::after {
  content: ""; position: absolute;
  bottom: 0; left: 0; right: 0; height: 3px;
  background: var(--gold); transform: scaleX(0);
  transition: transform .3s ease;
}
.trust-card:hover::after { transform: scaleX(1); }

/* ── HERO ENTRANCE ── */
@keyframes heroFadeUp {
  from { opacity: 0; transform: translateY(40px); }
  to { opacity: 1; transform: translateY(0); }
}
.hero-content h1 { animation: heroFadeUp .8s ease .2s both; }
.hero-content p { animation: heroFadeUp .8s ease .4s both; }
.hero-btns { animation: heroFadeUp .8s ease .6s both; }

/* ── CONTACT FORM ── */
.contact-section {
  background: var(--bg); padding: 80px 0;
}
.contact-grid {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 48px; max-width: 1000px; margin: 0 auto;
}
.contact-info h3 {
  font-family: "Playfair Display", serif;
  font-size: 26px; font-weight: 700; color: var(--dark);
  margin-bottom: 16px;
}
.contact-info p { font-size: 15px; color: var(--muted); margin-bottom: 24px; }
.contact-detail {
  display: flex; align-items: center; gap: 14px;
  margin-bottom: 18px;
}
.contact-detail-icon {
  width: 44px; height: 44px; border-radius: 10px;
  background: var(--white); border: 1px solid var(--border);
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
}
.contact-detail-text { font-size: 14px; color: var(--text); }
.contact-detail-text strong { display: block; font-size: 13px; color: var(--dark); margin-bottom: 2px; }
.contact-form {
  background: var(--white); border-radius: 16px;
  padding: 36px; box-shadow: 0 4px 24px rgba(0,0,0,.06);
  border: 1px solid var(--border);
}
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-bottom: 14px; }
.form-group { margin-bottom: 14px; }
.form-group label {
  display: block; font-size: 12px; font-weight: 600;
  color: var(--dark); margin-bottom: 6px;
  text-transform: uppercase; letter-spacing: .5px;
}
.form-group input, .form-group select, .form-group textarea {
  width: 100%; padding: 12px 16px; border: 1px solid var(--border);
  border-radius: 10px; font-size: 14px; font-family: inherit;
  color: var(--text); outline: none; transition: border-color .2s;
  background: var(--white);
}
.form-group input:focus, .form-group select:focus, .form-group textarea:focus {
  border-color: var(--gold);
}
.form-group textarea { resize: vertical; min-height: 100px; }
.form-submit {
  width: 100%; padding: 14px; border: none; border-radius: 10px;
  background: var(--gold); color: #fff; font-size: 15px;
  font-weight: 600; cursor: pointer; font-family: inherit;
  transition: background .2s, transform .2s;
}
.form-submit:hover { background: var(--gold-hover); transform: translateY(-1px); }
.form-success {
  display: none; text-align: center; padding: 32px;
}
.form-success.show { display: block; }
.form-success svg { margin: 0 auto 12px; }
.form-success h4 { font-size: 18px; color: var(--dark); margin-bottom: 6px; }
.form-success p { font-size: 14px; color: var(--muted); }

/* ── COOKIE BANNER ── */
.cookie-banner {
  position: fixed; bottom: 0; left: 0; right: 0;
  background: var(--white); z-index: 300;
  padding: 20px 32px;
  box-shadow: 0 -4px 24px rgba(0,0,0,.1);
  border-top: 1px solid var(--border);
  display: none; align-items: center;
  justify-content: space-between; gap: 20px;
}
.cookie-banner.show { display: flex; }
.cookie-banner p { font-size: 13px; color: var(--text); max-width: 700px; }
.cookie-banner a { color: var(--gold); text-decoration: underline; }
.cookie-btns { display: flex; gap: 10px; flex-shrink: 0; }
.cookie-accept {
  padding: 10px 24px; border-radius: 8px; border: none;
  background: var(--gold); color: #fff; font-size: 13px;
  font-weight: 600; cursor: pointer; font-family: inherit;
}
.cookie-decline {
  padding: 10px 24px; border-radius: 8px;
  border: 1px solid var(--border); background: var(--white);
  color: var(--muted); font-size: 13px; font-weight: 500;
  cursor: pointer; font-family: inherit;
}

/* ── IMAGE SHIMMER ── */
.property-img {
  background-color: #e5e7eb;
  background-image: linear-gradient(90deg, #e5e7eb 0%, #f3f4f6 50%, #e5e7eb 100%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}
@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
.property-img[style] { animation: none; }

/* ── SOCIAL ICONS ── */
.footer-social { display: flex; gap: 12px; margin-top: 20px; }
.footer-social a {
  width: 36px; height: 36px; border-radius: 50%;
  background: rgba(255,255,255,.08); color: rgba(255,255,255,.5);
  display: flex; align-items: center; justify-content: center;
  transition: all .2s;
}
.footer-social a:hover { background: var(--gold); color: #fff; }

/* ── GOOGLE REVIEWS BADGE ── */
.google-badge {
  display: inline-flex; align-items: center; gap: 8px;
  background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.1);
  padding: 10px 18px; border-radius: 10px; margin-top: 20px;
}
.google-badge-stars { color: #F59E0B; font-size: 14px; letter-spacing: 1px; }
.google-badge-text { font-size: 12px; color: rgba(255,255,255,.6); }
.google-badge-text strong { color: #fff; }

/* ── NAV TRANSITION ── */
.nav-inner { transition: height .3s ease; }

@media (max-width: 768px) {
  .stats-grid { gap: 24px; flex-wrap: wrap; }
  .stat-number { font-size: 32px; }
  .back-to-top { bottom: 76px; left: 16px; }
  .contact-grid { grid-template-columns: 1fr; }
  .form-row { grid-template-columns: 1fr; }
  .cookie-banner { flex-direction: column; text-align: center; }
  .cookie-banner p { max-width: 100%; }
}
</style>
</head>
<body>

<!-- NAV -->
<nav class="nav">
  <div class="nav-inner">
    <a href="#hero" class="nav-logo">Highgate<span>Estate Agents</span></a>
    <div class="nav-links">
      <a href="#hero">Home</a>
      <a href="#properties">Properties</a>
      <a href="#valuation">Selling</a>
      <a href="#properties">Buying</a>
      <a href="#valuation">Valuations</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
      <span class="nav-phone">020 3051 4206</span>
      <a href="#valuation" class="nav-cta">Book a Valuation</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="hero" id="hero">
  <div class="hero-content">
    <h1>Highgate's Independent<br><span>Property Experts</span></h1>
    <p>Personalised estate agency services across Highgate, Muswell Hill, Crouch End and North London.</p>
    <div class="hero-btns">
      <a href="#valuation" class="btn-primary" style="display:inline-block">Book a Free Valuation</a>
      <a href="#properties" class="btn-secondary" style="display:inline-block">Browse Properties</a>
    </div>
  </div>
</section>

<!-- SEARCH -->
<div class="search-section">
  <div class="search-bar">
    <div class="search-toggle">
      <span class="active">Buy</span>
      <span class="inactive">Rent</span>
    </div>
    <div class="search-field">
      <label>Location</label>
      <input type="text" placeholder="e.g. Highgate, N6" id="filterLocation">
    </div>
    <div class="search-field">
      <label>Property Type</label>
      <select id="filterType"><option value="">Any Type</option><option value="house">Houses</option><option value="apartment">Apartments</option><option value="detached">Detached</option><option value="semi-detached">Semi-Detached</option><option value="terraced">Terraced</option></select>
    </div>
    <div class="search-field">
      <label>Bedrooms</label>
      <select id="filterBeds"><option value="">Any</option><option value="1">1+</option><option value="2">2+</option><option value="3">3+</option><option value="4">4+</option><option value="5">5+</option></select>
    </div>
    <div class="search-field">
      <label>Max Price</label>
      <select id="filterPrice"><option value="">No Max</option><option value="500000">£500,000</option><option value="750000">£750,000</option><option value="1000000">£1,000,000</option><option value="2000000">£2,000,000</option><option value="5000000">£5,000,000</option></select>
    </div>
    <button class="search-submit" id="searchBtn">Search</button>
  </div>
  <div class="filter-active-bar" id="filterBar">
    <span id="filterBarText">Showing 0 of 6 properties</span>
    <button class="filter-clear" id="filterClear">Clear filters</button>
  </div>
</div>

<!-- STATS BAR -->
<div class="stats-bar">
  <div class="stats-grid reveal">
    <div class="stat-item">
      <div class="stat-number" data-target="150"><span>0</span>+</div>
      <div class="stat-label">Properties Sold</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" data-target="15"><span>0</span>+</div>
      <div class="stat-label">Years Experience</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" data-target="98"><span>0</span>%</div>
      <div class="stat-label">Client Satisfaction</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" data-target="5"><span>5</span>.0</div>
      <div class="stat-label">Google Rating</div>
    </div>
  </div>
</div>

<!-- FEATURED PROPERTIES -->
<section class="section" id="properties">
  <div class="container">
    <div class="section-header">
      <div class="section-label">Featured Properties</div>
      <div class="section-divider"></div>
      <h2>Properties in Highgate &amp; North London</h2>
      <p>Browse our selection of homes for sale across Highgate and the surrounding areas.</p>
    </div>
    <div class="property-grid reveal" id="propertyGrid">

      <div class="property-card" data-type="terraced" data-beds="5" data-price="1925000" data-location="whitehall park n19">
        <div class="property-img" style="background:url('https://highgateestateagents.co.uk/wp-content/uploads/2025/07/1.-Whitehall-Park-London-N19-H0005-780x780.webp') center/cover">
          <span class="property-badge badge-sold">Previously Sold</span>
          <button class="property-fav" aria-label="Save property"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#DC2626" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></button>
        </div>
        <div class="property-info">
          <div class="property-price">£1,925,000</div>
          <div class="property-address">Whitehall Park, London N19</div>
          <div class="property-type">Terraced House</div>
          <div class="property-specs">
            <span>5 Beds</span>
            <span>2 Baths</span>
            <span>2,533 sqft</span>
          </div>
        </div>
      </div>

      <div class="property-card" data-type="terraced" data-beds="5" data-price="2715000" data-location="jacksons lane hornsey n6">
        <div class="property-img" style="background:url('https://highgateestateagents.co.uk/wp-content/uploads/2025/07/1.-Jacksons-Lane-Hornsey-London-N6-H0004-780x780.webp') center/cover">
          <span class="property-badge badge-sold">Previously Sold</span>
          <button class="property-fav" aria-label="Save property"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#DC2626" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></button>
        </div>
        <div class="property-info">
          <div class="property-price">£2,715,000</div>
          <div class="property-address">Jacksons Lane, Hornsey, London N6</div>
          <div class="property-type">Terraced House</div>
          <div class="property-specs">
            <span>5 Beds</span>
            <span>3 Baths</span>
            <span>3,098 sqft</span>
          </div>
        </div>
      </div>

      <div class="property-card" data-type="terraced" data-beds="4" data-price="1885000" data-location="southwood lane hornsey n6">
        <div class="property-img" style="background:url('https://highgateestateagents.co.uk/wp-content/uploads/2025/06/1.-Southwood-Lane-Hornsey-London-N6-H0003-780x780.webp') center/cover">
          <span class="property-badge badge-sold">Previously Sold</span>
          <button class="property-fav" aria-label="Save property"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#DC2626" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></button>
        </div>
        <div class="property-info">
          <div class="property-price">£1,885,000</div>
          <div class="property-address">Southwood Lane, Hornsey, London N6</div>
          <div class="property-type">Terraced House</div>
          <div class="property-specs">
            <span>4 Beds</span>
            <span>3 Baths</span>
            <span>1,751 sqft</span>
          </div>
        </div>
      </div>

      <div class="property-card" data-type="terraced" data-beds="5" data-price="2000000" data-location="onslow gardens hornsey n10">
        <div class="property-img" style="background:url('https://highgateestateagents.co.uk/wp-content/uploads/2025/06/1.-Onslow-Gardens-Hornsey-London-N10-H0002-780x780.webp') center/cover">
          <span class="property-badge badge-sold">Previously Sold</span>
          <button class="property-fav" aria-label="Save property"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#DC2626" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></button>
        </div>
        <div class="property-info">
          <div class="property-price">£2,000,000</div>
          <div class="property-address">Onslow Gardens, Hornsey, London N10</div>
          <div class="property-type">Terraced House</div>
          <div class="property-specs">
            <span>5 Beds</span>
            <span>2 Baths</span>
            <span>2,595 sqft</span>
          </div>
        </div>
      </div>

      <div class="property-card" data-type="detached" data-beds="4" data-price="3212500" data-location="view road hornsey n6">
        <div class="property-img" style="background:url('https://highgateestateagents.co.uk/wp-content/uploads/2025/06/1.-View-Road-Hornsey-London-N6-h0001-780x780.webp') center/cover">
          <span class="property-badge badge-sold">Previously Sold</span>
          <button class="property-fav" aria-label="Save property"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#DC2626" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></button>
        </div>
        <div class="property-info">
          <div class="property-price">£3,212,500</div>
          <div class="property-address">View Road, Hornsey, London N6</div>
          <div class="property-type">Detached House</div>
          <div class="property-specs">
            <span>4 Beds</span>
            <span>3 Baths</span>
            <span>3,089 sqft</span>
          </div>
        </div>
      </div>

      <div class="property-card" data-type="apartment" data-beds="3" data-price="1000000" data-location="wood lane highgate n6">
        <div class="property-img" style="background:url('https://highgateestateagents.co.uk/wp-content/uploads/2023/01/1.-Wood-Lane-Apartment-For-Sale-Highgate-HG06-1-780x780.webp') center/cover">
          <span class="property-badge badge-sold">Previously Sold</span>
          <button class="property-fav" aria-label="Save property"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#DC2626" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></button>
        </div>
        <div class="property-info">
          <div class="property-price">£1,000,000</div>
          <div class="property-address">Wood Lane, Highgate, London N6</div>
          <div class="property-type">Apartment</div>
          <div class="property-specs">
            <span>3 Beds</span>
            <span>2 Baths</span>
            <span>1,480 sqft</span>
          </div>
        </div>
      </div>

      <div class="no-results" id="noResults">
        <h3>No properties match your search</h3>
        <p>Try adjusting your filters or <button class="filter-clear" style="display:inline;text-decoration:underline;font-size:inherit">clear all filters</button> to see all properties.</p>
      </div>

    </div>
    <div class="view-all"><a href="javascript:void(0)" id="viewAllBtn">View All Properties</a></div>
  </div>
</section>

<!-- WHY CHOOSE US -->
<section class="section bg-light" id="about">
  <div class="container">
    <div class="section-header">
      <div class="section-label">Why Choose Us</div>
      <div class="section-divider"></div>
      <h2>Your Trusted Local Estate Agent</h2>
      <p>We're an independent agency that puts your interests first.</p>
    </div>
    <div class="trust-grid reveal">
      <div class="trust-card">
        <div class="trust-icon ti-1">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#1B3A4B" stroke-width="2" stroke-linecap="round"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        </div>
        <h3>Independent &amp; Personal</h3>
        <p>Genuinely personalised service. You're a person, not a number in a franchise.</p>
      </div>
      <div class="trust-card">
        <div class="trust-icon ti-2">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#92700C" stroke-width="2" stroke-linecap="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
        </div>
        <h3>Local Market Experts</h3>
        <p>Deep knowledge of Highgate, Muswell Hill, Crouch End and surrounding areas.</p>
      </div>
      <div class="trust-card">
        <div class="trust-icon ti-3">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2E7D32" stroke-width="2" stroke-linecap="round"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/></svg>
        </div>
        <h3>No Sale, No Fee</h3>
        <p>Transparent pricing with flat-rate or percentage options. Pay only when it sells.</p>
      </div>
      <div class="trust-card">
        <div class="trust-icon ti-4">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#DC2626" stroke-width="2" stroke-linecap="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        </div>
        <h3>Outstanding Reviews</h3>
        <p>Consistently rated for responsiveness, professionalism and results.</p>
      </div>
    </div>
  </div>
</section>

<!-- VALUATION CTA -->
<section class="cta-banner" id="valuation">
  <h2>Thinking of Selling?</h2>
  <p>Get a free, no-obligation property valuation from our experienced local team.</p>
  <a href="#contact" class="btn-primary" style="font-size:16px;padding:16px 36px;display:inline-block">Book Your Free Valuation</a>
</section>

<!-- TESTIMONIALS -->
<section class="section bg-light">
  <div class="container">
    <div class="section-header">
      <div class="section-label">Testimonials</div>
      <div class="section-divider"></div>
      <h2>What Our Clients Say</h2>
    </div>
    <div class="testimonial-grid reveal">
      <div class="testimonial-card">
        <div class="testimonial-stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
        <div class="testimonial-text">"Very responsive, quickly returned calls. Kept us up to speed throughout the whole process. Would happily use them again."</div>
        <div class="testimonial-author">
          <div class="testimonial-avatar" style="background:var(--teal)">JV</div>
          <div><div class="testimonial-name">Jacob V</div><div class="testimonial-role">Seller</div></div>
        </div>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
        <div class="testimonial-text">"Responded to enquiries quickly. Invaluable assistance chasing solicitors and keeping me updated throughout."</div>
        <div class="testimonial-author">
          <div class="testimonial-avatar" style="background:var(--gold)">GL</div>
          <div><div class="testimonial-name">Grace L</div><div class="testimonial-role">Buyer</div></div>
        </div>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
        <div class="testimonial-text">"Brilliant throughout. Super responsive on email, thoroughly updated, professional with tenants and solicitors."</div>
        <div class="testimonial-author">
          <div class="testimonial-avatar" style="background:#5C7D8A">SF</div>
          <div><div class="testimonial-name">Steven F</div><div class="testimonial-role">Seller</div></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- AREA GUIDES -->
<section class="section" id="areas">
  <div class="container">
    <div class="section-header">
      <div class="section-label">Our Areas</div>
      <div class="section-divider"></div>
      <h2>Explore North London</h2>
      <p>We cover Highgate and the surrounding areas of North London.</p>
    </div>
    <div class="area-grid reveal">
      <div class="area-card">
        <div class="area-card-bg" style="background:url('https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=600&h=400&fit=crop') center/cover"></div>
        <div class="area-card-content"><h3>Highgate</h3><p>Village charm, period homes</p></div>
      </div>
      <div class="area-card">
        <div class="area-card-bg" style="background:url('https://images.unsplash.com/photo-1549517045-bc93de075e53?w=600&h=400&fit=crop') center/cover"></div>
        <div class="area-card-content"><h3>Muswell Hill</h3><p>Edwardian avenues, family-friendly</p></div>
      </div>
      <div class="area-card">
        <div class="area-card-bg" style="background:url('https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=600&h=400&fit=crop') center/cover"></div>
        <div class="area-card-content"><h3>Crouch End</h3><p>Creative hub, Victorian terraces</p></div>
      </div>
      <div class="area-card">
        <div class="area-card-bg" style="background:url('https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=600&h=400&fit=crop') center/cover"></div>
        <div class="area-card-content"><h3>Archway</h3><p>Great value, excellent transport</p></div>
      </div>
      <div class="area-card">
        <div class="area-card-bg" style="background:url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=600&h=400&fit=crop') center/cover"></div>
        <div class="area-card-content"><h3>Hornsey</h3><p>Quiet residential, up-and-coming</p></div>
      </div>
      <div class="area-card">
        <div class="area-card-bg" style="background:url('https://images.unsplash.com/photo-1592595896616-c37162298647?w=600&h=400&fit=crop') center/cover"></div>
        <div class="area-card-content"><h3>Hampstead</h3><p>Premium homes, the Heath</p></div>
      </div>
    </div>
  </div>
</section>

<!-- CONTACT FORM -->
<section class="contact-section" id="contact-form">
  <div class="container">
    <div class="section-header">
      <div class="section-label">Get In Touch</div>
      <div class="section-divider"></div>
      <h2>Contact Us</h2>
      <p>Have a question or want to arrange a viewing? We'd love to hear from you.</p>
    </div>
    <div class="contact-grid reveal">
      <div class="contact-info">
        <h3>Let's Start a Conversation</h3>
        <p>Whether you're looking to buy, sell, or simply want expert advice on the North London property market, our team is here to help.</p>
        <div class="contact-detail">
          <div class="contact-detail-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2" stroke-linecap="round"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"/></svg>
          </div>
          <div class="contact-detail-text">
            <strong>Phone</strong>
            <a href="tel:02030514206">020 3051 4206</a>
          </div>
        </div>
        <div class="contact-detail">
          <div class="contact-detail-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2" stroke-linecap="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          </div>
          <div class="contact-detail-text">
            <strong>Email</strong>
            <a href="mailto:info@highgateestateagents.co.uk">info@highgateestateagents.co.uk</a>
          </div>
        </div>
        <div class="contact-detail">
          <div class="contact-detail-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          </div>
          <div class="contact-detail-text">
            <strong>Office Hours</strong>
            Mon-Fri: 9am-6pm &middot; Sat: 10am-4pm &middot; Sun: By appointment
          </div>
        </div>
        <div class="contact-detail">
          <div class="contact-detail-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2" stroke-linecap="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
          </div>
          <div class="contact-detail-text">
            <strong>Location</strong>
            Highgate, North London
          </div>
        </div>
      </div>
      <div class="contact-form" id="contactForm">
        <div class="form-row">
          <div class="form-group">
            <label>First Name</label>
            <input type="text" placeholder="John" id="formFirstName">
          </div>
          <div class="form-group">
            <label>Last Name</label>
            <input type="text" placeholder="Smith" id="formLastName">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Email</label>
            <input type="email" placeholder="john@example.com" id="formEmail">
          </div>
          <div class="form-group">
            <label>Phone</label>
            <input type="tel" placeholder="07000 000000" id="formPhone">
          </div>
        </div>
        <div class="form-group">
          <label>I'm Interested In</label>
          <select id="formInterest">
            <option value="">Select an option...</option>
            <option value="buying">Buying a property</option>
            <option value="selling">Selling my property</option>
            <option value="valuation">Free property valuation</option>
            <option value="viewing">Arranging a viewing</option>
            <option value="other">General enquiry</option>
          </select>
        </div>
        <div class="form-group">
          <label>Message</label>
          <textarea placeholder="Tell us a bit about what you're looking for..." id="formMessage"></textarea>
        </div>
        <button class="form-submit" id="formSubmit">Send Message</button>
      </div>
      <div class="form-success" id="formSuccess">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#059669" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="9 12 12 15 16 10"/></svg>
        <h4>Message Sent!</h4>
        <p>Thank you for getting in touch. One of our team will be back to you within 24 hours.</p>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer" id="contact">
  <div class="container">
    <div class="footer-grid">
      <div class="footer-brand">
        <h3>Highgate</h3>
        <span>Estate Agents</span>
        <p>Independent estate agency serving Highgate and North London. Personalised service, local expertise, outstanding results.</p>
        <div class="footer-social">
          <a href="#" aria-label="Facebook"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg></a>
          <a href="#" aria-label="Instagram"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="2" y="2" width="20" height="20" rx="5"/><circle cx="12" cy="12" r="5"/><circle cx="17.5" cy="6.5" r="1.5" fill="currentColor" stroke="none"/></svg></a>
          <a href="#" aria-label="LinkedIn"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2zM4 6a2 2 0 100-4 2 2 0 000 4z"/></svg></a>
          <a href="#" aria-label="Twitter/X"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
        </div>
        <div class="google-badge">
          <span class="google-badge-stars">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          <span class="google-badge-text"><strong>5.0</strong> on Google Reviews</span>
        </div>
      </div>
      <div>
        <h4>Quick Links</h4>
        <ul>
          <li><a href="#properties">Properties for Sale</a></li>
          <li><a href="#valuation">Selling Your Home</a></li>
          <li><a href="#properties">Buying a Home</a></li>
          <li><a href="#valuation">Free Valuation</a></li>
          <li><a href="#about">About Us</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
      <div>
        <h4>Areas</h4>
        <ul>
          <li><a href="#areas">Highgate</a></li>
          <li><a href="#areas">Muswell Hill</a></li>
          <li><a href="#areas">Crouch End</a></li>
          <li><a href="#areas">Archway</a></li>
          <li><a href="#areas">Hornsey</a></li>
          <li><a href="#areas">Hampstead</a></li>
        </ul>
      </div>
      <div>
        <h4>Contact</h4>
        <ul>
          <li><a href="tel:02030514206">020 3051 4206</a></li>
          <li><a href="mailto:info@highgateestateagents.co.uk">info@highgateestateagents.co.uk</a></li>
          <li><a href="https://wa.me/442030514206">WhatsApp</a></li>
          <li style="margin-top:12px;color:rgba(255,255,255,.4);font-size:12px">Mon-Fri: 9am-6pm<br>Sat: 10am-4pm<br>Sun: By appointment</li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      &copy; 2026 Highgate Estate Agents Ltd &middot; <a href="privacy-policy.html" style="color:rgba(255,255,255,.4)">Privacy Policy</a> &middot; <a href="terms.html" style="color:rgba(255,255,255,.4)">Terms</a> &middot; <a href="cookie-policy.html" style="color:rgba(255,255,255,.4)">Cookie Policy</a>
    </div>
  </div>
</footer>

<!-- MOBILE STICKY BAR -->
<div class="mobile-bar">
  <div class="mobile-bar-inner">
    <a href="tel:02030514206">Call</a>
    <a href="https://wa.me/442030514206">WhatsApp</a>
    <a href="#valuation" class="mb-gold">Free Valuation</a>
  </div>
</div>

<!-- CHATBOT -->
<button class="chatbot-btn" id="chatToggle" aria-label="Open chat">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
</button>

<div class="chatbot-window" id="chatWindow">
  <div class="chatbot-header">
    <div class="chatbot-avatar">H</div>
    <div class="chatbot-header-info">
      <h4>Highgate Estate Agents</h4>
      <p>Typically replies instantly</p>
    </div>
    <button class="chatbot-close" id="chatClose">&times;</button>
  </div>
  <div class="chatbot-messages" id="chatMessages">
    <div class="chat-msg chat-bot">Hello! Welcome to Highgate Estate Agents. How can I help you today?</div>
    <div class="chat-options" id="chatOptions">
      <button class="chat-option" data-reply="buy">I'm looking to buy</button>
      <button class="chat-option" data-reply="sell">I'd like to sell</button>
      <button class="chat-option" data-reply="valuation">Free valuation</button>
      <button class="chat-option" data-reply="other">Something else</button>
    </div>
  </div>
  <div class="chatbot-input">
    <input type="text" placeholder="Type a message..." id="chatInput">
    <button id="chatSend">&#10148;</button>
  </div>
</div>

<!-- COOKIE BANNER -->
<div class="cookie-banner" id="cookieBanner">
  <p>We use cookies to improve your experience on our site. By continuing to browse, you agree to our <a href="cookie-policy.html">Cookie Policy</a>.</p>
  <div class="cookie-btns">
    <button class="cookie-accept" id="cookieAccept">Accept All</button>
    <button class="cookie-decline" id="cookieDecline">Decline</button>
  </div>
</div>

<!-- BACK TO TOP -->
<button class="back-to-top" id="backToTop" aria-label="Back to top">
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><polyline points="18 15 12 9 6 15"/></svg>
</button>

<!-- PROPERTY MODAL -->
<div class="modal-overlay" id="propertyModal">
  <div class="modal-content">
    <button class="modal-close" id="modalClose">&times;</button>
    <div class="modal-body">
      <div class="modal-gallery">
        <div class="gallery-images" id="galleryImages"></div>
        <span class="gallery-counter" id="galleryCounter">1 / 5</span>
        <button class="gallery-nav gallery-prev" id="galleryPrev">&#8249;</button>
        <button class="gallery-nav gallery-next" id="galleryNext">&#8250;</button>
        <div class="gallery-dots" id="galleryDots"></div>
      </div>
      <div class="modal-details">
        <span class="modal-badge badge-sale" id="modalBadge">For Sale</span>
        <div class="modal-price" id="modalPrice">£1,925,000</div>
        <div class="modal-address" id="modalAddress">Whitehall Park, London N19</div>
        <div class="modal-type" id="modalType">Terraced House</div>
        <div class="modal-specs">
          <div class="modal-spec"><div class="modal-spec-val" id="modalBeds">5 Beds</div><div class="modal-spec-label">Bedrooms</div></div>
          <div class="modal-spec"><div class="modal-spec-val" id="modalBaths">2 Baths</div><div class="modal-spec-label">Bathrooms</div></div>
          <div class="modal-spec"><div class="modal-spec-val" id="modalSqft">2,533 sqft</div><div class="modal-spec-label">Floor Area</div></div>
          <div class="modal-spec"><div class="modal-spec-val">EPC C</div><div class="modal-spec-label">Energy Rating</div></div>
        </div>
        <div class="modal-desc" id="modalDesc"></div>
        <div class="modal-cta">
          <button class="cta-primary">Book Viewing</button>
          <button class="cta-secondary">020 3051 4206</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Search toggle
document.querySelectorAll('.search-toggle span').forEach(function(btn) {
  btn.addEventListener('click', function() {
    document.querySelectorAll('.search-toggle span').forEach(function(b) {
      b.className = b === btn ? 'active' : 'inactive';
    });
  });
});

// Property filter
(function() {
  var searchBtn = document.getElementById('searchBtn');
  var filterLocation = document.getElementById('filterLocation');
  var filterType = document.getElementById('filterType');
  var filterBeds = document.getElementById('filterBeds');
  var filterPrice = document.getElementById('filterPrice');
  var propertyGrid = document.getElementById('propertyGrid');
  var filterBar = document.getElementById('filterBar');
  var filterBarText = document.getElementById('filterBarText');
  var noResults = document.getElementById('noResults');
  var cards = propertyGrid.querySelectorAll('.property-card');
  var totalCards = cards.length;

  function filterProperties() {
    var loc = filterLocation.value.trim().toLowerCase();
    var type = filterType.value;
    var beds = filterBeds.value;
    var maxPrice = filterPrice.value;
    var anyFilter = loc || type || beds || maxPrice;
    var visible = 0;

    cards.forEach(function(card) {
      var show = true;

      // Location filter
      if (loc) {
        var cardLoc = card.getAttribute('data-location') || '';
        if (cardLoc.indexOf(loc) === -1) show = false;
      }

      // Type filter: "house" matches terraced, detached, semi-detached
      if (type) {
        var cardType = card.getAttribute('data-type') || '';
        if (type === 'house') {
          if (cardType !== 'terraced' && cardType !== 'detached' && cardType !== 'semi-detached') show = false;
        } else {
          if (cardType !== type) show = false;
        }
      }

      // Beds filter (minimum)
      if (beds) {
        var cardBeds = parseInt(card.getAttribute('data-beds')) || 0;
        if (cardBeds < parseInt(beds)) show = false;
      }

      // Max price filter
      if (maxPrice) {
        var cardPrice = parseInt(card.getAttribute('data-price')) || 0;
        if (cardPrice > parseInt(maxPrice)) show = false;
      }

      if (show) {
        card.classList.remove('hidden');
        visible++;
      } else {
        card.classList.add('hidden');
      }
    });

    // Show/hide filter bar and no results
    if (anyFilter) {
      filterBar.classList.add('show');
      filterBarText.textContent = 'Showing ' + visible + ' of ' + totalCards + ' properties';
      if (visible === 0) {
        noResults.classList.add('show');
      } else {
        noResults.classList.remove('show');
      }
    } else {
      filterBar.classList.remove('show');
      noResults.classList.remove('show');
    }

    // Smooth scroll to properties
    var section = propertyGrid.closest('.section');
    if (section) section.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  function clearFilters() {
    filterLocation.value = '';
    filterType.value = '';
    filterBeds.value = '';
    filterPrice.value = '';
    cards.forEach(function(card) { card.classList.remove('hidden'); });
    filterBar.classList.remove('show');
    noResults.classList.remove('show');
  }

  searchBtn.addEventListener('click', filterProperties);

  // Also filter on Enter key in location field
  filterLocation.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') filterProperties();
  });

  // Clear filters buttons
  document.getElementById('filterClear').addEventListener('click', clearFilters);
  var inlineClear = noResults.querySelector('.filter-clear');
  if (inlineClear) inlineClear.addEventListener('click', clearFilters);
})();

// Area card click — filter properties by area
document.querySelectorAll('.area-card').forEach(function(card) {
  card.addEventListener('click', function() {
    var areaName = card.querySelector('h3').textContent;
    var locInput = document.getElementById('filterLocation');
    locInput.value = areaName;
    document.getElementById('filterType').value = '';
    document.getElementById('filterBeds').value = '';
    document.getElementById('filterPrice').value = '';
    document.getElementById('searchBtn').click();
    document.getElementById('propertyGrid').scrollIntoView({ behavior: 'smooth' });
  });
});

// Chatbot
var chatToggle = document.getElementById('chatToggle');
var chatWindow = document.getElementById('chatWindow');
var chatClose = document.getElementById('chatClose');
var chatMessages = document.getElementById('chatMessages');
var chatInput = document.getElementById('chatInput');
var chatSend = document.getElementById('chatSend');

chatToggle.addEventListener('click', function() {
  chatWindow.classList.toggle('open');
});
chatClose.addEventListener('click', function() {
  chatWindow.classList.remove('open');
});

var botReplies = {
  buy: {
    msg: "What type of property are you looking for?",
    options: [
      { text: "House", reply: "buy-house" },
      { text: "Apartment", reply: "buy-apt" },
      { text: "Not sure yet", reply: "buy-unsure" }
    ]
  },
  sell: {
    msg: "We offer free, no-obligation property valuations. Would you like to book one?",
    options: [
      { text: "Yes, book a valuation", reply: "valuation" },
      { text: "Tell me about your fees", reply: "fees" },
      { text: "Speak to someone", reply: "speak" }
    ]
  },
  valuation: {
    msg: "Our experienced team will visit your property and provide a detailed valuation report. You can book online or call us on 020 3051 4206.",
    options: [
      { text: "Book online", reply: "done" },
      { text: "Call now", reply: "done" }
    ]
  },
  other: {
    msg: "No problem! You can call us on 020 3051 4206, send an email to info@highgateestateagents.co.uk, or type your question below.",
    options: []
  },
  fees: {
    msg: "We operate on a no sale, no fee basis. We offer both flat-rate and percentage fee structures. Would you like to discuss this with one of our team?",
    options: [
      { text: "Yes, call me", reply: "speak" },
      { text: "Book a valuation first", reply: "valuation" }
    ]
  },
  speak: {
    msg: "You can reach us on 020 3051 4206 (Mon-Fri 9am-6pm, Sat 10am-4pm) or send a WhatsApp message any time.",
    options: []
  },
  "buy-house": {
    msg: "We have houses available across Highgate, Muswell Hill, Crouch End and surrounding areas. What's your approximate budget?",
    options: [
      { text: "Up to £1M", reply: "done" },
      { text: "£1M - £2M", reply: "done" },
      { text: "Over £2M", reply: "done" }
    ]
  },
  "buy-apt": {
    msg: "We have apartments available from studio to 3-bed across North London. What's your budget range?",
    options: [
      { text: "Up to £500k", reply: "done" },
      { text: "£500k - £1M", reply: "done" },
      { text: "Over £1M", reply: "done" }
    ]
  },
  "buy-unsure": {
    msg: "No problem! I'd recommend registering your details so our team can match you with suitable properties. Would you like to do that?",
    options: [
      { text: "Yes, register me", reply: "done" },
      { text: "Browse listings first", reply: "done" }
    ]
  },
  done: {
    msg: "Thank you! One of our team will be in touch shortly. In the meantime, feel free to browse our properties or call us on 020 3051 4206.",
    options: []
  }
};

function addBotMessage(text) {
  var msg = document.createElement('div');
  msg.className = 'chat-msg chat-bot';
  msg.textContent = text;
  chatMessages.appendChild(msg);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

function addUserMessage(text) {
  var msg = document.createElement('div');
  msg.className = 'chat-msg chat-user';
  msg.textContent = text;
  chatMessages.appendChild(msg);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

function addOptions(options) {
  if (!options || options.length === 0) return;
  var container = document.createElement('div');
  container.className = 'chat-options';
  options.forEach(function(opt) {
    var btn = document.createElement('button');
    btn.className = 'chat-option';
    btn.textContent = opt.text;
    btn.setAttribute('data-reply', opt.reply);
    btn.addEventListener('click', handleOption);
    container.appendChild(btn);
  });
  chatMessages.appendChild(container);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

function handleOption(e) {
  var btn = e.target;
  var reply = btn.getAttribute('data-reply');
  var text = btn.textContent;

  // Remove all option buttons
  var allOpts = chatMessages.querySelectorAll('.chat-options');
  allOpts.forEach(function(o) { o.remove(); });

  addUserMessage(text);

  setTimeout(function() {
    var response = botReplies[reply];
    if (response) {
      addBotMessage(response.msg);
      setTimeout(function() { addOptions(response.options); }, 400);
    }
  }, 600);
}

// Initial options
document.querySelectorAll('#chatOptions .chat-option').forEach(function(btn) {
  btn.addEventListener('click', handleOption);
});

// Text input
function sendTextMessage() {
  var text = chatInput.value.trim();
  if (!text) return;
  chatInput.value = '';
  addUserMessage(text);

  var lower = text.toLowerCase();
  var replyKey = 'other';
  if (lower.indexOf('sell') !== -1 || lower.indexOf('valuation') !== -1) replyKey = 'sell';
  else if (lower.indexOf('buy') !== -1 || lower.indexOf('looking') !== -1) replyKey = 'buy';
  else if (lower.indexOf('call') !== -1 || lower.indexOf('speak') !== -1 || lower.indexOf('phone') !== -1) replyKey = 'speak';
  else if (lower.indexOf('fee') !== -1 || lower.indexOf('cost') !== -1 || lower.indexOf('price') !== -1) replyKey = 'fees';

  setTimeout(function() {
    var response = botReplies[replyKey];
    addBotMessage(response.msg);
    setTimeout(function() { addOptions(response.options); }, 400);
  }, 800);
}

chatSend.addEventListener('click', sendTextMessage);
chatInput.addEventListener('keydown', function(e) {
  if (e.key === 'Enter') sendTextMessage();
});

// ── PROPERTY MODAL ──
var modalOverlay = document.getElementById('propertyModal');
var galleryImages = document.getElementById('galleryImages');
var modalPrice = document.getElementById('modalPrice');
var modalAddress = document.getElementById('modalAddress');
var modalType = document.getElementById('modalType');
var modalBadge = document.getElementById('modalBadge');
var modalBeds = document.getElementById('modalBeds');
var modalBaths = document.getElementById('modalBaths');
var modalSqft = document.getElementById('modalSqft');
var modalDesc = document.getElementById('modalDesc');
var galleryCounter = document.getElementById('galleryCounter');
var galleryDots = document.getElementById('galleryDots');
var currentSlide = 0;
var currentImages = [];

var propertyData = {
  'whitehall park n19': {
    images: [
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/1.-Whitehall-Park-London-N19-H0005-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/2.-Whitehall-Park-London-N19-H0005-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/3.-Whitehall-Park-London-N19-H0005-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/4.-Whitehall-Park-London-N19-H0005-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/5.-Whitehall-Park-London-N19-H0005-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/6.-Whitehall-Park-London-N19-H0005-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/7.-Whitehall-Park-London-N19-H0005-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/8.-Whitehall-Park-London-N19-H0005-780x780.webp'
    ],
    desc: 'A stunning five-bedroom Victorian terraced house on one of N19\'s most sought-after streets. Features include a double reception room, bespoke kitchen-diner with bi-fold doors opening onto a landscaped garden, and a loft conversion with en-suite.'
  },
  'jacksons lane hornsey n6': {
    images: [
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/1.-Jacksons-Lane-Hornsey-London-N6-H0004-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/2.-Jacksons-Lane-Hornsey-London-N6-H0004-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/3.-Jacksons-Lane-Hornsey-London-N6-H0004-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/4.-Jacksons-Lane-Hornsey-London-N6-H0004-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/5.-Jacksons-Lane-Hornsey-London-N6-H0004-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/6.-Jacksons-Lane-Hornsey-London-N6-H0004-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/7.-Jacksons-Lane-Hornsey-London-N6-H0004-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/07/8.-Jacksons-Lane-Hornsey-London-N6-H0004-780x780.webp'
    ],
    desc: 'An impressive five-bedroom terraced house in a prime Hornsey location. This beautifully presented family home offers generous living space, a modern kitchen, three bathrooms, and excellent transport links.'
  },
  'southwood lane hornsey n6': {
    images: [
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/1.-Southwood-Lane-Hornsey-London-N6-H0003-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/2.-Southwood-Lane-Hornsey-London-N6-H0003-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/3.-Southwood-Lane-Hornsey-London-N6-H0003-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/4.-Southwood-Lane-Hornsey-London-N6-H0003-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/5.-Southwood-Lane-Hornsey-London-N6-H0003-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/6.-Southwood-Lane-Hornsey-London-N6-H0003-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/7.-Southwood-Lane-Hornsey-London-N6-H0003-780x780.webp'
    ],
    desc: 'A charming four-bedroom terraced house on the coveted Southwood Lane. This property combines period character with modern updates, featuring three bathrooms, a garage, and beautifully proportioned rooms throughout.'
  },
  'onslow gardens hornsey n10': {
    images: [
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/1.-Onslow-Gardens-Hornsey-London-N10-H0002-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/2.-Onslow-Gardens-Hornsey-London-N10-H0002-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/3.-Onslow-Gardens-Hornsey-London-N10-H0002-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/4.-Onslow-Gardens-Hornsey-London-N10-H0002-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/5.-Onslow-Gardens-Hornsey-London-N10-H0002-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/6.-Onslow-Gardens-Hornsey-London-N10-H0002-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/7.-Onslow-Gardens-Hornsey-London-N10-H0002-780x780.webp'
    ],
    desc: 'A handsome five-bedroom terraced house in the desirable Onslow Gardens. Offering 2,595 sq ft of living space, two bathrooms, period features, and a well-maintained garden in this quiet residential street.'
  },
  'view road hornsey n6': {
    images: [
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/1.-View-Road-Hornsey-London-N6-h0001-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/2.-View-Road-Hornsey-London-N6-h0001-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/3.-View-Road-Hornsey-London-N6-h0001-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/4.-View-Road-Hornsey-London-N6-h0001-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/5.-View-Road-Hornsey-London-N6-h0001-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/6.-View-Road-Hornsey-London-N6-h0001-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2025/06/7.-View-Road-Hornsey-London-N6-h0001-780x780.webp'
    ],
    desc: 'An exceptional detached family home on View Road offering generous living space across three floors. This four-bedroom property boasts three bathrooms, over 3,000 sq ft, and a south-facing rear garden with mature trees.'
  },
  'wood lane highgate n6': {
    images: [
      'https://highgateestateagents.co.uk/wp-content/uploads/2023/01/1.-Wood-Lane-Apartment-For-Sale-Highgate-HG06-1-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2023/01/2.-Wood-Lane-Apartment-For-Sale-Highgate-HG06-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2023/01/3.-Wood-Lane-Apartment-For-Sale-Highgate-HG06-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2023/01/4.-Wood-Lane-Apartment-For-Sale-Highgate-HG06-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2023/01/5.-Wood-Lane-Apartment-For-Sale-Highgate-HG06-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2023/01/6.-Wood-Lane-Apartment-For-Sale-Highgate-HG06-780x780.webp',
      'https://highgateestateagents.co.uk/wp-content/uploads/2023/01/7.-Wood-Lane-Apartment-For-Sale-Highgate-HG06-780x780.webp'
    ],
    desc: 'A beautifully appointed three-bedroom apartment in a prestigious Highgate development. Features include floor-to-ceiling windows, an open-plan living area, two bathrooms, allocated parking, and 1,480 sq ft of living space.'
  }
};

function openPropertyModal(card) {
  var loc = card.getAttribute('data-location');
  var data = propertyData[loc];
  if (!data) return;

  var price = card.querySelector('.property-price').textContent;
  var address = card.querySelector('.property-address').textContent;
  var type = card.querySelector('.property-type').textContent;
  var specs = card.querySelectorAll('.property-specs span');
  var badge = card.querySelector('.property-badge');

  modalPrice.textContent = price;
  modalAddress.textContent = address;
  modalType.textContent = type;
  modalDesc.textContent = data.desc;
  modalBeds.textContent = specs[0] ? specs[0].textContent : '';
  modalBaths.textContent = specs[1] ? specs[1].textContent : '';
  modalSqft.textContent = specs[2] ? specs[2].textContent : '';

  modalBadge.textContent = badge.textContent;
  modalBadge.className = 'modal-badge';
  if (badge.classList.contains('badge-sale')) modalBadge.classList.add('badge-sale');
  else if (badge.classList.contains('badge-offer')) modalBadge.classList.add('badge-offer');
  else if (badge.classList.contains('badge-sold')) modalBadge.classList.add('badge-sold');

  currentImages = data.images;
  currentSlide = 0;
  galleryImages.innerHTML = '';
  galleryDots.innerHTML = '';

  currentImages.forEach(function(src, i) {
    var img = document.createElement('img');
    img.src = src;
    img.alt = address + ' - Image ' + (i + 1);
    if (i === 0) img.classList.add('active');
    galleryImages.appendChild(img);

    var dot = document.createElement('button');
    dot.className = 'gallery-dot' + (i === 0 ? ' active' : '');
    dot.addEventListener('click', function() { goToSlide(i); });
    galleryDots.appendChild(dot);
  });

  galleryCounter.textContent = '1 / ' + currentImages.length;
  modalOverlay.classList.add('show');
  document.body.style.overflow = 'hidden';
}

function goToSlide(n) {
  var imgs = galleryImages.querySelectorAll('img');
  var dots = galleryDots.querySelectorAll('.gallery-dot');
  imgs[currentSlide].classList.remove('active');
  dots[currentSlide].classList.remove('active');
  currentSlide = n;
  if (currentSlide >= currentImages.length) currentSlide = 0;
  if (currentSlide < 0) currentSlide = currentImages.length - 1;
  imgs[currentSlide].classList.add('active');
  dots[currentSlide].classList.add('active');
  galleryCounter.textContent = (currentSlide + 1) + ' / ' + currentImages.length;
}

document.getElementById('galleryPrev').addEventListener('click', function(e) {
  e.stopPropagation();
  goToSlide(currentSlide - 1);
});
document.getElementById('galleryNext').addEventListener('click', function(e) {
  e.stopPropagation();
  goToSlide(currentSlide + 1);
});

function closeModal() {
  modalOverlay.classList.remove('show');
  document.body.style.overflow = '';
}

modalOverlay.addEventListener('click', function(e) {
  if (e.target === modalOverlay) closeModal();
});
document.getElementById('modalClose').addEventListener('click', closeModal);
document.addEventListener('keydown', function(e) {
  if (!modalOverlay.classList.contains('show')) return;
  if (e.key === 'Escape') closeModal();
  if (e.key === 'ArrowLeft') goToSlide(currentSlide - 1);
  if (e.key === 'ArrowRight') goToSlide(currentSlide + 1);
});

document.querySelectorAll('.property-card').forEach(function(card) {
  card.addEventListener('click', function() {
    openPropertyModal(card);
  });
});

// Smooth scroll for ALL internal anchor links
document.querySelectorAll('a[href^="#"]').forEach(function(a) {
  a.addEventListener('click', function(e) {
    var href = a.getAttribute('href');
    if (href === '#' || href === '#hero') {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: 'smooth' });
      return;
    }
    var target = document.querySelector(href);
    if (target) {
      e.preventDefault();
      target.scrollIntoView({ behavior: 'smooth' });
    }
  });
});

// View All Properties — clears filters and scrolls to property grid
document.getElementById('viewAllBtn').addEventListener('click', function() {
  // Clear all filters
  document.getElementById('filterLocation').value = '';
  document.getElementById('filterType').value = '';
  document.getElementById('filterBeds').value = '';
  document.getElementById('filterPrice').value = '';
  // Show all cards
  document.querySelectorAll('.property-card').forEach(function(c) { c.classList.remove('hidden'); });
  // Hide filter bar and no-results
  var fb = document.getElementById('filterBar');
  if (fb) fb.classList.remove('show');
  var nr = document.getElementById('noResults');
  if (nr) nr.classList.remove('show');
  // Scroll to the property grid
  document.getElementById('propertyGrid').scrollIntoView({ behavior: 'smooth' });
});

// ── NAV SCROLL EFFECT ──
var nav = document.querySelector('.nav');
var backToTop = document.getElementById('backToTop');
window.addEventListener('scroll', function() {
  var scrolled = window.scrollY > 80;
  nav.classList.toggle('scrolled', scrolled);
  backToTop.classList.toggle('show', window.scrollY > 500);
});
backToTop.addEventListener('click', function() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
});

// ── SCROLL REVEAL ──
var revealEls = document.querySelectorAll('.reveal');
var revealObserver = new IntersectionObserver(function(entries) {
  entries.forEach(function(entry) {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
      revealObserver.unobserve(entry.target);
    }
  });
}, { threshold: 0.15 });
revealEls.forEach(function(el) { revealObserver.observe(el); });

// ── STAT COUNTER ANIMATION ──
var statNumbers = document.querySelectorAll('.stat-number');
var statsAnimated = false;
var statsObserver = new IntersectionObserver(function(entries) {
  entries.forEach(function(entry) {
    if (entry.isIntersecting && !statsAnimated) {
      statsAnimated = true;
      statNumbers.forEach(function(el) {
        var target = parseInt(el.getAttribute('data-target'));
        var span = el.querySelector('span');
        var start = 0;
        var duration = 2000;
        var startTime = null;
        function animate(timestamp) {
          if (!startTime) startTime = timestamp;
          var progress = Math.min((timestamp - startTime) / duration, 1);
          var eased = 1 - Math.pow(1 - progress, 3);
          span.textContent = Math.floor(eased * target);
          if (progress < 1) requestAnimationFrame(animate);
          else span.textContent = target;
        }
        requestAnimationFrame(animate);
      });
    }
  });
}, { threshold: 0.5 });
var statsBar = document.querySelector('.stats-bar');
if (statsBar) statsObserver.observe(statsBar);

// ── CONTACT FORM ──
document.getElementById('formSubmit').addEventListener('click', function(e) {
  e.preventDefault();
  var fn = document.getElementById('formFirstName').value.trim();
  var email = document.getElementById('formEmail').value.trim();
  if (!fn || !email) {
    alert('Please fill in at least your name and email address.');
    return;
  }
  // Hide form, show success
  document.getElementById('contactForm').querySelectorAll('.form-row, .form-group, .form-submit').forEach(function(el) {
    el.style.display = 'none';
  });
  document.getElementById('formSuccess').classList.add('show');
});

// ── COOKIE BANNER ──
(function() {
  if (!localStorage.getItem('cookieConsent')) {
    setTimeout(function() {
      document.getElementById('cookieBanner').classList.add('show');
    }, 1500);
  }
  document.getElementById('cookieAccept').addEventListener('click', function() {
    localStorage.setItem('cookieConsent', 'accepted');
    document.getElementById('cookieBanner').classList.remove('show');
  });
  document.getElementById('cookieDecline').addEventListener('click', function() {
    localStorage.setItem('cookieConsent', 'declined');
    document.getElementById('cookieBanner').classList.remove('show');
  });
})();

// ── FAVOURITE HEART TOGGLE ──
document.querySelectorAll('.property-fav').forEach(function(btn) {
  btn.addEventListener('click', function(e) {
    e.stopPropagation();
    btn.classList.toggle('liked');
  });
});
</script>

</body>
</html>
